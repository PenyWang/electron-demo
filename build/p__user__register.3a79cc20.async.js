(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{a3w7:function(e,a,r){"use strict";r.r(a);r("+L6B");var s=r("2/Rp"),t=(r("Q9mQ"),r("diRs")),n=(r("MXD1"),r("CFYs")),i=r("k1fw"),l=(r("miYZ"),r("tsqr")),d=r("tJVT"),u=(r("5NDa"),r("5rEg")),o=(r("OaEy"),r("2fM7")),c=(r("y8nQ"),r("Vl3Y")),g=r("aCH8"),m=r.n(g),p=r("cGDp"),f=r("q1tI"),E=r.n(f),w=r("9kvl"),v=r("uYtH"),b=r("sYde"),h=r.n(b),_=c["a"].Item,M=(o["a"].Option,u["a"].Group,{ok:E.a.createElement("div",{className:h.a.success},E.a.createElement(w["a"],{id:"userandregister.strength.strong"})),pass:E.a.createElement("div",{className:h.a.warning},E.a.createElement(w["a"],{id:"userandregister.strength.medium"})),poor:E.a.createElement("div",{className:h.a.error},E.a.createElement(w["a"],{id:"userandregister.strength.short"}))}),j={ok:"success",pass:"normal",poor:"exception"},O=function(e){var a,r=e.submitting,o=e.dispatch,g=e.userAndregister,b=Object(f["useState"])(0),O=Object(d["a"])(b,2),y=(O[0],O[1],Object(f["useState"])(!1)),N=Object(d["a"])(y,2),F=N[0],k=N[1],x=Object(f["useState"])("86"),A=Object(d["a"])(x,2),q=A[0],V=(A[1],Object(f["useState"])(!1)),C=Object(d["a"])(V,2),R=C[0],S=C[1],z=Object(f["useState"])(0),Y=Object(d["a"])(z,2),B=Y[0],D=Y[1],J=!1,P=c["a"].useForm(),T=Object(d["a"])(P,1),I=T[0],Q=Object(w["h"])(),$=new RegExp(/((?=.*\d)(?=.*\D)|(?=.*[a-zA-Z])(?=.*[^a-zA-Z]))(?!^.*[\u4E00-\u9FA5].*$)^\S{0,100}$/);Object(f["useEffect"])((function(){if(g){var e=I.getFieldValue("username");g.status==p["b"].ERC_Ok?(l["b"].success(null===Q||void 0===Q?void 0:Q.formatMessage({id:"userandregister.register-result.account",defaultMessage:"\u6ce8\u518c\u6210\u529f"})),w["d"].push({pathname:"/user/register-result",state:{account:e}})):g.status==p["b"].ERC_Err&&l["b"].error(null===Q||void 0===Q?void 0:Q.formatMessage({id:"userandregister.register.account-already-exists",defaultMessage:"\u60a8\u521b\u5efa\u8d26\u6237\u5df2\u5b58\u5728\uff01"}))}}),[g]),Object(f["useEffect"])((function(){return function(){clearInterval(a),o({type:"userAndregister/registerHandle",payload:{}})}}),[]);var H=function(){var e=I.getFieldValue("password");return e&&e.length>9?"ok":e&&e.length>5?"pass":"poor"},Z=function(e){delete e.confirm,e=Object(i["a"])(Object(i["a"])({},e),{},{password:m()(e.password)}),o({type:"userAndregister/submit",payload:Object(i["a"])(Object(i["a"])({},e),{},{prefix:q})})},G=function(e,a){var r=Promise;return a&&a!==I.getFieldValue("password")?r.reject(E.a.createElement(w["a"],{id:"userandregister.password.twice",defaultMessage:"\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u5339\u914d!"})):!$.test(a)&&a?r.reject(E.a.createElement(w["a"],{id:"login.password-regular-message",defaultMessage:"\u81f3\u5c11\u4e3a\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u7b26\u53f7\u4e24\u79cd\u7ec4\u6210\uff0c\u4e0d\u5141\u8bb8\u6709\u4e2d\u6587\u3001\u7a7a\u683c"})):r.resolve()},X=function(e,a){var r=Promise;return a?(F||k(!!a),S(!R),a.length<6?(D(0),r.reject("")):!$.test(a)&&a?(D(1),r.reject("")):(a&&J&&I.validateFields(["confirm"]),D(2),r.resolve())):(k(!!a),r.reject(E.a.createElement(w["a"],{id:"userandregister.password.required",defaultMessage:"\u8bf7\u8f93\u5165\u5bc6\u7801\uff01"})))},L=function(){var e=I.getFieldValue("password"),a=H();return e&&e.length?E.a.createElement("div",{className:h.a["progress-".concat(a)]},E.a.createElement(n["a"],{status:j[a],className:h.a.progress,strokeWidth:6,percent:10*e.length>100?100:10*e.length,showInfo:!1})):null},U=function(){switch(B){case 0:return E.a.createElement(w["a"],{id:"userandregister.strength.msg",defaultMessage:"\u8bf7\u81f3\u5c11\u8f93\u5165 6 \u4e2a\u5b57\u7b26\u3002\u8bf7\u4e0d\u8981\u4f7f\u7528\u5bb9\u6613\u88ab\u731c\u5230\u7684\u5bc6\u7801\u3002"});case 1:return E.a.createElement(w["a"],{id:"login.password-regular-message",defaultMessage:"\u81f3\u5c11\u4e3a\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u7b26\u53f7\u4e24\u79cd\u7ec4\u6210\uff0c\u4e0d\u5141\u8bb8\u6709\u4e2d\u6587\u3001\u7a7a\u683c"});default:return null}};return E.a.createElement("div",{className:h.a.main},E.a.createElement("h3",null,E.a.createElement(w["a"],{id:"userandregister.register.register",defaultMessage:"\u6ce8\u518c"})),E.a.createElement(c["a"],{form:I,name:"UserRegister",onFinish:Z},E.a.createElement(_,{validateTrigger:"onBlur",name:"username",rules:[{required:!0,message:E.a.createElement(w["a"],{id:"userandregister.account.required",defaultMessage:"\u8bf7\u8f93\u5165\u8d26\u53f7\uff01"})},{max:14,message:E.a.createElement(w["a"],{id:"login.user-name-message",defaultMessage:"\u7528\u6237\u540d\u4e0d\u80fd\u5927\u4e8e14\u4e2a\u5b57\u7b26"})},{pattern:new RegExp(/^(?!(\d+)$)[\u4e00-\u9fa5\w]+$/),message:E.a.createElement(w["a"],{id:"login.user-name-regular-message",defaultMessage:"\u7528\u6237\u540d\u4ec5\u652f\u6301\u4e2d\u82f1\u6587\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf,\u4e14\u4e0d\u80fd\u4e3a\u7eaf\u6570\u5b57"})},{}]},E.a.createElement(u["a"],{size:"large",placeholder:null===Q||void 0===Q?void 0:Q.formatMessage({id:"userandregister.account.placeholder",defaultMessage:"\u8d26\u53f7"})})),E.a.createElement(t["a"],{getPopupContainer:function(e){return e&&e.parentNode?e.parentNode:e},content:F&&E.a.createElement("div",{style:{padding:"4px 0"}},M[H()],L(),E.a.createElement("div",{style:{marginTop:10,color:"red"}},U())),overlayStyle:{width:240},placement:"right",visible:F},E.a.createElement(_,{name:"password",className:I.getFieldValue("password")&&I.getFieldValue("password").length>0&&h.a.password,rules:[{validator:X}]},E.a.createElement(u["a"].Password,{size:"large",type:"password",placeholder:null===Q||void 0===Q?void 0:Q.formatMessage({id:"userandregister.password.placeholder",defaultMessage:"\u81f3\u5c116\u4f4d\u5bc6\u7801\uff0c\u533a\u5206\u5927\u5c0f\u5199"})}))),E.a.createElement(_,{validateTrigger:"onBlur",name:"confirm",rules:[{required:!0,message:E.a.createElement(w["a"],{id:"userandregister.confirm-password.required",defaultMessage:"\u8bf7\u786e\u8ba4\u5bc6\u7801\uff01"})},{validator:G}]},E.a.createElement(u["a"].Password,{size:"large",type:"password",placeholder:null===Q||void 0===Q?void 0:Q.formatMessage({id:"userandregister.confirm-password.placeholder",defaultMessage:"\u786e\u8ba4\u5bc6\u7801"})})),E.a.createElement(_,null,E.a.createElement(s["a"],{size:"large",loading:r,className:h.a.submit,type:"primary",htmlType:"submit"},E.a.createElement(w["a"],{id:"userandregister.register.register",defaultMessage:"\u6ce8\u518c"})),E.a.createElement(v["a"],{className:h.a.login,to:"/user/login"},E.a.createElement(w["a"],{id:"userandregister.register.sign-in",defaultMessage:"\u4f7f\u7528\u5df2\u6709\u8d26\u6237\u767b\u5f55"})))))};a["default"]=Object(w["b"])((function(e){var a=e.userAndregister,r=e.loading;return{userAndregister:a,submitting:r.effects["userAndregister/submit"]}}))(O)},sYde:function(e,a,r){e.exports={main:"main___2kx2N",password:"password___2JDrd",getCaptcha:"getCaptcha___1oboe",submit:"submit___34wM2",login:"login___1qBuj",success:"success___3hl98",warning:"warning___2i2r2",error:"error___3JfQo","progress-pass":"progress-pass___BM1Xu",progress:"progress___2s68u"}}}]);